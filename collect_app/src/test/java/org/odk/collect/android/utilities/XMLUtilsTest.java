package org.odk.collect.android.utilities;

import org.json.JSONObject;
import org.junit.Before;
import org.junit.Test;

import static org.junit.Assert.assertArrayEquals;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

public class XMLUtilsTest {
    @Before
    public void initialize() {
        XMLUtils.setTestMode(true);
    }

    @Test
    public void getArrayPropertiesReturnsArray() throws Exception {
        System.out.println("getArrayPropertiesReturnsArray");
        String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><h:html xmlns:h=\"http://www.w3.org/1999/xhtml\" xmlns=\"http://www.w3.org/2002/xforms\" xmlns:ev=\"http://www.w3.org/2001/xml-events\" xmlns:jr=\"http://openrosa.org/javarosa\" xmlns:orx=\"http://openrosa.org/xforms/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"><h:head><h:title>Zambia short</h:title><model><instance><ZambiaShort id=\"ZambiaShort\"><formhub><uuid /></formhub><interviewer /><field_gps><field_center_gps /></field_gps><camp_info><block_name /><vet_camp_name /><agr_camp_name /><village_name /></camp_info><head_name /><farmer_info><farmer_name /><farmer_image /><farmer_sex>male</farmer_sex><contact_phone /><farmer_birthdate /></farmer_info><any_activity_2014><any_activity_question /><crop_production_activity>yes</crop_production_activity><livestock_prod_activity>no</livestock_prod_activity><farm_fishing_activity>no</farm_fishing_activity></any_activity_2014><source_livelihood_and_labour><source_livelihood>on_farm</source_livelihood><source_labour>family</source_labour></source_livelihood_and_labour><education_level_and_source_of_information><level_skills>unskilled</level_skills><information>public_gathering</information></education_level_and_source_of_information><farmer_fields /><field_repeat_count /><field_repeat jr:template=\"\"><field_info>no</field_info><non_field_type>croplands</non_field_type><field_image /><crop><crop_name>maize</crop_name><crop_image /><area_cultivated><area_cultivated_question /><area_quantity /><area_unit>hectare</area_unit></area_cultivated><water_source_and_main_motive><water_source>rainfed</water_source><main_motive>domestic_consumption</main_motive></water_source_and_main_motive><seed><seed_sown /><seed_purchase>yes</seed_purchase><seed_name /><seed_cost /></seed><fertilizer><fertilizer_use>yes</fertilizer_use><fertilizer_amount /><fertilizer_cost /></fertilizer><crop_protection><pesticide_use>yes</pesticide_use></crop_protection><crop_harvested><crop_harvested_question /><crop_harvested_quantity /><crop_harvested_unit>kg</crop_harvested_unit></crop_harvested></crop><addl_crop jr:template=\"\"><addl_crop_addl_name>maize</addl_crop_addl_name><addl_crop_image /><addl_area_cultivated><addl_area_cultivated_question /><addl_area_quantity /><addl_area_unit>hectare</addl_area_unit></addl_area_cultivated><addl_water_source_and_main_motive><addl_water_source>rainfed</addl_water_source><addl_main_motive>domestic_consumption</addl_main_motive></addl_water_source_and_main_motive><addl_seed><addl_seed_sown /><addl_seed_purchase>yes</addl_seed_purchase><addl_seed_name /><addl_seed_cost /></addl_seed><addl_fertilizer><addl_fertilizer_use>yes</addl_fertilizer_use><addl_fertilizer_amount /><addl_fertilizer_cost /></addl_fertilizer><addl_crop_protection><addl_pesticide_use>yes</addl_pesticide_use></addl_crop_protection><addl_crop_harvested><addl_crop_harvested_question /><addl_crop_harvested_quantity /><addl_crop_harvested_unit>kg</addl_crop_harvested_unit></addl_crop_harvested></addl_crop><field_corners jr:template=\"\"><field_corners_image /><field_corners_gps /></field_corners></field_repeat><start_time /><end_time /><survey_day /><deviceid /><subscriberid /><imei /><sim_serial_number /><phonenumber /><meta><instanceID /><instanceName /></meta></ZambiaShort></instance><bind nodeset=\"/ZambiaShort/interviewer\" required=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_gps/field_center_gps\" required=\"true()\" type=\"geopoint\" /><bind nodeset=\"/ZambiaShort/camp_info/block_name\" type=\"string\" /><bind nodeset=\"/ZambiaShort/camp_info/vet_camp_name\" type=\"string\" /><bind nodeset=\"/ZambiaShort/camp_info/agr_camp_name\" type=\"string\" /><bind nodeset=\"/ZambiaShort/camp_info/village_name\" type=\"string\" /><bind nodeset=\"/ZambiaShort/head_name\" required=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/farmer_info/farmer_name\" required=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/farmer_info/farmer_image\" type=\"binary\" /><bind nodeset=\"/ZambiaShort/farmer_info/farmer_sex\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/farmer_info/contact_phone\" type=\"string\" /><bind constraint=\". &lt;= today()\" jr:constraintMsg=\"Date cannot be past today's date.\" nodeset=\"/ZambiaShort/farmer_info/farmer_birthdate\" type=\"date\" /><bind nodeset=\"/ZambiaShort/any_activity_2014/any_activity_question\" readonly=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/any_activity_2014/crop_production_activity\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/any_activity_2014/livestock_prod_activity\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/any_activity_2014/farm_fishing_activity\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/source_livelihood_and_labour/source_livelihood\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/source_livelihood_and_labour/source_labour\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/education_level_and_source_of_information/level_skills\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/education_level_and_source_of_information/information\" type=\"select\" /><bind constraint=\". &gt;=1\" jr:constraintMsg=\"Number must be greater than zero.\" nodeset=\"/ZambiaShort/farmer_fields\" required=\"true()\" type=\"int\" /><bind calculate=\" /ZambiaShort/farmer_fields \" nodeset=\"/ZambiaShort/field_repeat_count\" readonly=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_repeat/field_info\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/non_field_type\" relevant=\" /ZambiaShort/field_repeat/field_info ='yes'\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/field_image\" relevant=\" /ZambiaShort/field_repeat/field_info ='no'\" type=\"binary\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop\" relevant=\"( /ZambiaShort/field_repeat/field_info ='no') and ( /ZambiaShort/any_activity_2014/crop_production_activity  = 'yes')\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/crop_name\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/crop_image\" type=\"binary\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/area_cultivated/area_cultivated_question\" readonly=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/area_cultivated/area_quantity\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/area_cultivated/area_unit\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/water_source_and_main_motive/water_source\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/water_source_and_main_motive/main_motive\" type=\"select1\" /><bind constraint=\". &lt;= today()\" nodeset=\"/ZambiaShort/field_repeat/crop/seed/seed_sown\" type=\"date\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/seed/seed_purchase\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/seed/seed_name\" relevant=\" /ZambiaShort/field_repeat/crop/seed/seed_purchase ='yes'\" required=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/seed/seed_cost\" relevant=\" /ZambiaShort/field_repeat/crop/seed/seed_purchase ='yes'\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/fertilizer/fertilizer_use\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/fertilizer/fertilizer_amount\" relevant=\" /ZambiaShort/field_repeat/crop/fertilizer/fertilizer_use ='yes'\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/fertilizer/fertilizer_cost\" relevant=\" /ZambiaShort/field_repeat/crop/fertilizer/fertilizer_use ='yes'\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/crop_protection/pesticide_use\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/crop_harvested/crop_harvested_question\" readonly=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/crop_harvested/crop_harvested_quantity\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/crop/crop_harvested/crop_harvested_unit\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop\" relevant=\"( /ZambiaShort/field_repeat/field_info ='no') and ( /ZambiaShort/any_activity_2014/crop_production_activity  = 'yes')\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_addl_name\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_image\" type=\"binary\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_area_cultivated/addl_area_cultivated_question\" readonly=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_area_cultivated/addl_area_quantity\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_area_cultivated/addl_area_unit\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_water_source_and_main_motive/addl_water_source\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_water_source_and_main_motive/addl_main_motive\" type=\"select1\" /><bind constraint=\". &lt;= today()\" nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_sown\" type=\"date\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_purchase\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_name\" relevant=\" /ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_purchase ='yes'\" required=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_cost\" relevant=\" /ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_purchase ='yes'\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_use\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_amount\" relevant=\" /ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_use ='yes'\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_cost\" relevant=\" /ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_use ='yes'\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_protection/addl_pesticide_use\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_harvested/addl_crop_harvested_question\" readonly=\"true()\" type=\"string\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_harvested/addl_crop_harvested_quantity\" required=\"true()\" type=\"decimal\" /><bind nodeset=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_harvested/addl_crop_harvested_unit\" type=\"select1\" /><bind nodeset=\"/ZambiaShort/field_repeat/field_corners/field_corners_image\" type=\"binary\" /><bind nodeset=\"/ZambiaShort/field_repeat/field_corners/field_corners_gps\" required=\"true()\" type=\"geopoint\" /><bind jr:preload=\"timestamp\" jr:preloadParams=\"start\" nodeset=\"/ZambiaShort/start_time\" type=\"dateTime\" /><bind jr:preload=\"timestamp\" jr:preloadParams=\"end\" nodeset=\"/ZambiaShort/end_time\" type=\"dateTime\" /><bind jr:preload=\"date\" jr:preloadParams=\"today\" nodeset=\"/ZambiaShort/survey_day\" type=\"date\" /><bind jr:preload=\"property\" jr:preloadParams=\"deviceid\" nodeset=\"/ZambiaShort/deviceid\" type=\"string\" /><bind jr:preload=\"property\" jr:preloadParams=\"subscriberid\" nodeset=\"/ZambiaShort/subscriberid\" type=\"string\" /><bind jr:preload=\"property\" jr:preloadParams=\"deviceid\" nodeset=\"/ZambiaShort/imei\" type=\"string\" /><bind jr:preload=\"property\" jr:preloadParams=\"simserial\" nodeset=\"/ZambiaShort/sim_serial_number\" type=\"string\" /><bind jr:preload=\"property\" jr:preloadParams=\"phonenumber\" nodeset=\"/ZambiaShort/phonenumber\" type=\"string\" /><bind calculate=\"concat('uuid:', uuid())\" nodeset=\"/ZambiaShort/meta/instanceID\" readonly=\"true()\" type=\"string\" /><bind calculate=\"concat( /ZambiaShort/head_name , '-',  /ZambiaShort/field_gps/field_center_gps , '-',  /ZambiaShort/farmer_info/contact_phone )\" nodeset=\"/ZambiaShort/meta/instanceName\" type=\"string\" /><bind calculate=\"'1b801f1cfab9423989b564d8c61b4594'\" nodeset=\"/ZambiaShort/formhub/uuid\" type=\"string\" /></model></h:head><h:body><input ref=\"/ZambiaShort/interviewer\"><label>Name of the interviewer</label></input><group ref=\"/ZambiaShort/field_gps\"><input ref=\"/ZambiaShort/field_gps/field_center_gps\"><label>Take GPS Coordinates of field center</label><hint>GPS coordinates can only be collected when outside.</hint></input></group><group appearance=\"field-list\" ref=\"/ZambiaShort/camp_info\"><input ref=\"/ZambiaShort/camp_info/block_name\"><label>Block</label></input><input ref=\"/ZambiaShort/camp_info/vet_camp_name\"><label>Vet camp name</label></input><input ref=\"/ZambiaShort/camp_info/agr_camp_name\"><label>Agriculture camp name</label></input><input ref=\"/ZambiaShort/camp_info/village_name\"><label>Village/locality name</label></input></group><input ref=\"/ZambiaShort/head_name\"><label>Name of household head</label></input><group appearance=\"field-list\" ref=\"/ZambiaShort/farmer_info\"><input ref=\"/ZambiaShort/farmer_info/farmer_name\"><label>Name of the main farmer in the household</label></input><upload mediatype=\"image/*\" ref=\"/ZambiaShort/farmer_info/farmer_image\"><label>Take a photo of the main farmer</label></upload><select1 ref=\"/ZambiaShort/farmer_info/farmer_sex\"><label>Gender</label><item><label>Male</label><value>male</value></item><item><label>Female</label><value>female</value></item></select1><input ref=\"/ZambiaShort/farmer_info/contact_phone\"><label>Contact phone or cell phone number for the household</label></input><input ref=\"/ZambiaShort/farmer_info/farmer_birthdate\"><label>Date of birth</label></input></group><group appearance=\"field-list\" ref=\"/ZambiaShort/any_activity_2014\"><input ref=\"/ZambiaShort/any_activity_2014/any_activity_question\"><label>Was the household engaged in any of the following activities in 2013/2014?</label></input><select1 ref=\"/ZambiaShort/any_activity_2014/crop_production_activity\"><label>Crop production (field crops, fruits, sugarcane or vegetables)</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1><select1 ref=\"/ZambiaShort/any_activity_2014/livestock_prod_activity\"><label>Livestock production</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1><select1 ref=\"/ZambiaShort/any_activity_2014/farm_fishing_activity\"><label>Fish farming</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1></group><group appearance=\"field-list\" ref=\"/ZambiaShort/source_livelihood_and_labour\"><select1 ref=\"/ZambiaShort/source_livelihood_and_labour/source_livelihood\"><label>What is your main source of livelihood?</label><item><label>on-farm</label><value>on_farm</value></item><item><label>off-farm</label><value>off_farm</value></item></select1><select1 ref=\"/ZambiaShort/source_livelihood_and_labour/source_labour\"><label>What is your main source of farm labour?</label><item><label>Family</label><value>family</value></item><item><label>Seasonally hired</label><value>seasonally_hired</value></item><item><label>Permanently hired</label><value>permanently_hired</value></item></select1></group><group appearance=\"field-list\" ref=\"/ZambiaShort/education_level_and_source_of_information\"><select1 ref=\"/ZambiaShort/education_level_and_source_of_information/level_skills\"><label>What is the level of agricultural management skills?</label><item><label>Self taught with no formal education</label><value>unskilled</value></item><item><label>College certificate</label><value>college_certificate</value></item><item><label>College diploma</label><value>college_diploma</value></item><item><label>University Degree</label><value>university_degree</value></item></select1><select ref=\"/ZambiaShort/education_level_and_source_of_information/information\"><label>What is your source of agricultural information?</label><item><label>Public gathering</label><value>public_gathering</value></item><item><label>Radio</label><value>radio</value></item><item><label>Newspaper/publication</label><value>newspaperp_ublication</value></item><item><label>Internet</label><value>internet</value></item><item><label>Friends and relatives</label><value>friends</value></item></select></group><input ref=\"/ZambiaShort/farmer_fields\"><label>Total number of fields</label></input><group ref=\"/ZambiaShort/field_repeat\"><label>Field</label><repeat jr:count=\" /ZambiaShort/field_repeat_count \" nodeset=\"/ZambiaShort/field_repeat\"><select1 ref=\"/ZambiaShort/field_repeat/field_info\"><label>Is this location a non-field?</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1><select1 ref=\"/ZambiaShort/field_repeat/non_field_type\"><label>Please specify what type of non-field this is</label><item><label>Croplands (fallow and active fields with natural vegetation in between fields)</label><value>croplands</value></item><item><label>Grasslands (not cultivated)</label><value>grasslands</value></item><item><label>Shrubland/Savannas (few shrubs less than 5 feet high, grass)</label><value>shrubland_open</value></item><item><label>Shrublands, Closed (continuous shrub canopy, little grass)</label><value>shrubland_dense</value></item><item><label>Forest, open/woody savanna (natural mosaic of shrubs, trees and grass)</label><value>forest_open</value></item><item><label>Forest, moderate (mixed canopy of trees and shrubs, little grass)</label><value>forest_moderate</value></item><item><label>Forest, dense (closed canopy of trees, few shrubs and grass)</label><value>forest_dense</value></item><item><label>Permanent wetland (water-logged soils and vegetation)</label><value>permanent_wetland</value></item><item><label>Urban, Continuous (houses, streets, few trees or grass patches)</label><value>urban_continuous</value></item><item><label>Urban, Discontinuous (mostly grass or trees with few houses)</label><value>urban_discontinuous</value></item><item><label>Barren or sparsely vegetated</label><value>barren</value></item><item><label>Water body</label><value>water</value></item><item><label>Other</label><value>other_nonfield</value></item></select1><upload mediatype=\"image/*\" ref=\"/ZambiaShort/field_repeat/field_image\"><label>Take a photo of the field</label></upload><group ref=\"/ZambiaShort/field_repeat/crop\"><label>Cultivated crop</label><select1 ref=\"/ZambiaShort/field_repeat/crop/crop_name\"><label>Name of crop</label><item><label>Maize</label><value>maize</value></item><item><label>Sorghum</label><value>sorghum</value></item><item><label>Rice</label><value>rice</value></item><item><label>Millet</label><value>millet</value></item><item><label>Sunflower</label><value>sunflower</value></item><item><label>Groundnuts</label><value>groundnuts</value></item><item><label>Soybeans</label><value>soybeans</value></item><item><label>Seed Cotton</label><value>seed_cotton</value></item><item><label>Irish potatoes</label><value>irish_potatoes</value></item><item><label>V. Tobacco</label><value>v_tobacco</value></item><item><label>B. Tobacco</label><value>b_tobacco</value></item><item><label>Mixed beans</label><value>mixed_beans</value></item><item><label>Sweet Potatoes</label><value>sweet_potatoes</value></item><item><label>Cassava</label><value>cassava</value></item><item><label>Cabbage</label><value>cabbage</value></item><item><label>Rape</label><value>rape</value></item><item><label>Spinach</label><value>spinach</value></item><item><label>Tomato</label><value>tomato</value></item><item><label>Onion</label><value>onion</value></item><item><label>Okra</label><value>okra</value></item><item><label>Eggplant</label><value>eggplant</value></item><item><label>Pumpkin</label><value>pumpkin</value></item><item><label>Chilies</label><value>chilies</value></item><item><label>Cauliflower</label><value>cauliflower</value></item><item><label>Carrots</label><value>carrots</value></item><item><label>Impwa</label><value>impwa</value></item><item><label>Chinese cabbage</label><value>chinese_cabbage</value></item><item><label>Sugar Cane</label><value>sugar_cane</value></item></select1><upload mediatype=\"image/*\" ref=\"/ZambiaShort/field_repeat/crop/crop_image\"><label>Take a close-up photo of the crop in the field</label></upload><group appearance=\"field-list\" ref=\"/ZambiaShort/field_repeat/crop/area_cultivated\"><input ref=\"/ZambiaShort/field_repeat/crop/area_cultivated/area_cultivated_question\"><label>What is the area cultivated under this crop?</label></input><input ref=\"/ZambiaShort/field_repeat/crop/area_cultivated/area_quantity\"><label>Quantity</label></input><select1 ref=\"/ZambiaShort/field_repeat/crop/area_cultivated/area_unit\"><label>Unit</label><item><label>Lima</label><value>lima</value></item><item><label>Acre</label><value>acre</value></item><item><label>Hectare</label><value>hectare</value></item><item><label>Sq Metres</label><value>sq_metres</value></item></select1></group><group appearance=\"field-list\" ref=\"/ZambiaShort/field_repeat/crop/water_source_and_main_motive\"><select1 ref=\"/ZambiaShort/field_repeat/crop/water_source_and_main_motive/water_source\"><label>What is the main source of water for the cultivated crop?</label><item><label>Rainfed</label><value>rainfed</value></item><item><label>Irrigation</label><value>irrigation</value></item></select1><select1 ref=\"/ZambiaShort/field_repeat/crop/water_source_and_main_motive/main_motive\"><label>What is the main motive for planting this crop?</label><item><label>Domestic consumption</label><value>domestic_consumption</value></item><item><label>Income generation</label><value>income_generation</value></item></select1></group><group ref=\"/ZambiaShort/field_repeat/crop/seed\"><input ref=\"/ZambiaShort/field_repeat/crop/seed/seed_sown\"><label>When did you plant this crop?</label></input><select1 ref=\"/ZambiaShort/field_repeat/crop/seed/seed_purchase\"><label>Did you purchase the seeds being used for the crop in this field?</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1><input ref=\"/ZambiaShort/field_repeat/crop/seed/seed_name\"><label>What is the name of the purchased seeds?</label></input><input ref=\"/ZambiaShort/field_repeat/crop/seed/seed_cost\"><label>Cost of seed purchase (in Kwacha)</label></input></group><group ref=\"/ZambiaShort/field_repeat/crop/fertilizer\"><select1 ref=\"/ZambiaShort/field_repeat/crop/fertilizer/fertilizer_use\"><label>Did you use fertilizer on the field?</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1><input ref=\"/ZambiaShort/field_repeat/crop/fertilizer/fertilizer_amount\"><label>Amount of fertilizer used on field</label></input><input ref=\"/ZambiaShort/field_repeat/crop/fertilizer/fertilizer_cost\"><label>Cost of fertilizer used on field (in Kwacha)</label></input></group><group ref=\"/ZambiaShort/field_repeat/crop/crop_protection\"><select1 ref=\"/ZambiaShort/field_repeat/crop/crop_protection/pesticide_use\"><label>Did you use any pesticide or fungicide on this field?</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1></group><group appearance=\"field-list\" ref=\"/ZambiaShort/field_repeat/crop/crop_harvested\"><input ref=\"/ZambiaShort/field_repeat/crop/crop_harvested/crop_harvested_question\"><label>How much of this crop was harvested from this field?</label></input><input ref=\"/ZambiaShort/field_repeat/crop/crop_harvested/crop_harvested_quantity\"><label>Quantity</label></input><select1 ref=\"/ZambiaShort/field_repeat/crop/crop_harvested/crop_harvested_unit\"><label>Unit</label><item><label>kg</label><value>kg</value></item><item><label>50 kg bags</label><value>fifty_kg</value></item><item><label>100 kg bags</label><value>hundred_kg</value></item></select1></group></group><group ref=\"/ZambiaShort/field_repeat/addl_crop\"><label>Cultivated crop</label><repeat nodeset=\"/ZambiaShort/field_repeat/addl_crop\"><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_addl_name\"><label>Name of crop</label><item><label>Maize</label><value>maize</value></item><item><label>Sorghum</label><value>sorghum</value></item><item><label>Rice</label><value>rice</value></item><item><label>Millet</label><value>millet</value></item><item><label>Sunflower</label><value>sunflower</value></item><item><label>Groundnuts</label><value>groundnuts</value></item><item><label>Soybeans</label><value>soybeans</value></item><item><label>Seed Cotton</label><value>seed_cotton</value></item><item><label>Irish potatoes</label><value>irish_potatoes</value></item><item><label>V. Tobacco</label><value>v_tobacco</value></item><item><label>B. Tobacco</label><value>b_tobacco</value></item><item><label>Mixed beans</label><value>mixed_beans</value></item><item><label>Sweet Potatoes</label><value>sweet_potatoes</value></item><item><label>Cassava</label><value>cassava</value></item><item><label>Cabbage</label><value>cabbage</value></item><item><label>Rape</label><value>rape</value></item><item><label>Spinach</label><value>spinach</value></item><item><label>Tomato</label><value>tomato</value></item><item><label>Onion</label><value>onion</value></item><item><label>Okra</label><value>okra</value></item><item><label>Eggplant</label><value>eggplant</value></item><item><label>Pumpkin</label><value>pumpkin</value></item><item><label>Chilies</label><value>chilies</value></item><item><label>Cauliflower</label><value>cauliflower</value></item><item><label>Carrots</label><value>carrots</value></item><item><label>Impwa</label><value>impwa</value></item><item><label>Chinese cabbage</label><value>chinese_cabbage</value></item><item><label>Sugar Cane</label><value>sugar_cane</value></item></select1><upload mediatype=\"image/*\" ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_image\"><label>Take a photo of the crop</label></upload><group appearance=\"field-list\" ref=\"/ZambiaShort/field_repeat/addl_crop/addl_area_cultivated\"><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_area_cultivated/addl_area_cultivated_question\"><label>What is the area cultivated under this crop?</label></input><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_area_cultivated/addl_area_quantity\"><label>Quantity</label></input><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_area_cultivated/addl_area_unit\"><label>Unit</label><item><label>Lima</label><value>lima</value></item><item><label>Acre</label><value>acre</value></item><item><label>Hectare</label><value>hectare</value></item><item><label>Sq Metres</label><value>sq_metres</value></item></select1></group><group appearance=\"field-list\" ref=\"/ZambiaShort/field_repeat/addl_crop/addl_water_source_and_main_motive\"><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_water_source_and_main_motive/addl_water_source\"><label>What is the main source of water for the cultivated crop?</label><item><label>Rainfed</label><value>rainfed</value></item><item><label>Irrigation</label><value>irrigation</value></item></select1><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_water_source_and_main_motive/addl_main_motive\"><label>What is the main motive for planting this crop?</label><item><label>Domestic consumption</label><value>domestic_consumption</value></item><item><label>Income generation</label><value>income_generation</value></item></select1></group><group ref=\"/ZambiaShort/field_repeat/addl_crop/addl_seed\"><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_sown\"><label>When did you plant this crop?</label></input><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_purchase\"><label>Did you purchase the seeds being used for the crop in this field?</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_name\"><label>What is the name of the purchased seeds?</label></input><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_seed/addl_seed_cost\"><label>Cost of seed purchase (in Kwacha)</label></input></group><group ref=\"/ZambiaShort/field_repeat/addl_crop/addl_fertilizer\"><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_use\"><label>Did you use fertilizer on the field?</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_amount\"><label>Amount of fertilizer used on field</label></input><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_fertilizer/addl_fertilizer_cost\"><label>Cost of fertilizer used on field (in Kwacha)</label></input></group><group ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_protection\"><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_protection/addl_pesticide_use\"><label>Did you use any pesticide or fungicide on this field?</label><item><label>Yes</label><value>yes</value></item><item><label>No</label><value>no</value></item></select1></group><group appearance=\"field-list\" ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_harvested\"><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_harvested/addl_crop_harvested_question\"><label>How much of this crop was harvested from this field?</label></input><input ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_harvested/addl_crop_harvested_quantity\"><label>Quantity</label></input><select1 ref=\"/ZambiaShort/field_repeat/addl_crop/addl_crop_harvested/addl_crop_harvested_unit\"><label>Unit</label><item><label>kg</label><value>kg</value></item><item><label>50 kg bags</label><value>fifty_kg</value></item><item><label>100 kg bags</label><value>hundred_kg</value></item></select1></group></repeat></group><group ref=\"/ZambiaShort/field_repeat/field_corners\"><label>Field corners</label><repeat nodeset=\"/ZambiaShort/field_repeat/field_corners\"><upload mediatype=\"image/*\" ref=\"/ZambiaShort/field_repeat/field_corners/field_corners_image\"><label>Take a photo associated with this field corner</label></upload><input ref=\"/ZambiaShort/field_repeat/field_corners/field_corners_gps\"><label>Take GPS coordinates of this field corner</label><hint>GPS coordinates can only be collected when outside.</hint></input></repeat></group></repeat></group></h:body></h:html>";
        String[] arrayProperties = XMLUtils.getArrayProperties(xml);
        assertTrue(arrayProperties != null);
        System.out.println("arrayProperties: " + arrayProperties.length);
        for (String property: arrayProperties)
            System.out.println(property);

        assertArrayEquals(new String[] {"field_repeat", "addl_crop", "field_corners"}, arrayProperties);
    }

    @Test
    public void toJSONObjectReturnsJSON1() throws Exception {
        System.out.println("toJSONObjectReturnsJSON1");
        JSONObject json = XMLUtils.toJSONObject("<?xml version='1.0' ?><ZambiaShort id=\"ZambiaShort\"><formhub><uuid>1b801f1cfab9423989b564d8c61b4594</uuid></formhub><interviewer>Mikhail</interviewer><field_gps><field_center_gps>58.0180911 56.2502042 0.0 30.0</field_center_gps></field_gps><camp_info><block_name>Ghjj</block_name><vet_camp_name>Gh</vet_camp_name><agr_camp_name>Gg</agr_camp_name><village_name>Ggg</village_name></camp_info><head_name>Ghh</head_name><farmer_info><farmer_name>Ggh</farmer_name><farmer_image>1454054126478.jpg</farmer_image><farmer_sex>male</farmer_sex><contact_phone>557788</contact_phone><farmer_birthdate>2016-01-06</farmer_birthdate></farmer_info><any_activity_2014><any_activity_question /><crop_production_activity>yes</crop_production_activity><livestock_prod_activity>no</livestock_prod_activity><farm_fishing_activity>no</farm_fishing_activity></any_activity_2014><source_livelihood_and_labour><source_livelihood>on_farm</source_livelihood><source_labour>family</source_labour></source_livelihood_and_labour><education_level_and_source_of_information><level_skills>unskilled</level_skills><information>public_gathering internet</information></education_level_and_source_of_information><farmer_fields>1</farmer_fields><field_repeat_count>1</field_repeat_count><field_repeat><field_info>no</field_info><field_image>1454054166790.jpg</field_image><crop><crop_name>maize</crop_name><crop_image>1454054179606.jpg</crop_image><area_cultivated><area_cultivated_question /><area_quantity>236.0</area_quantity><area_unit>hectare</area_unit></area_cultivated><water_source_and_main_motive><water_source>rainfed</water_source><main_motive>domestic_consumption</main_motive></water_source_and_main_motive><seed><seed_sown>2016-01-06</seed_sown><seed_purchase>yes</seed_purchase><seed_name>Vvbh</seed_name><seed_cost>26.0</seed_cost></seed><fertilizer><fertilizer_use>yes</fertilizer_use><fertilizer_amount>559.0</fertilizer_amount><fertilizer_cost>86.0</fertilizer_cost></fertilizer><crop_protection><pesticide_use>yes</pesticide_use></crop_protection><crop_harvested><crop_harvested_question /><crop_harvested_quantity>56.0</crop_harvested_quantity><crop_harvested_unit>kg</crop_harvested_unit></crop_harvested></crop></field_repeat><start_time>2016-01-29T12:54:21.753+05</start_time><end_time>2016-01-29T12:56:52.600+05</end_time><survey_day>2016-01-29</survey_day><deviceid>359904053255378</deviceid><subscriberid>250012782462148</subscriberid><imei>359904053255378</imei><sim_serial_number>89701012927824621483</sim_serial_number><phonenumber /><meta><instanceID>uuid:61944850-9648-4fbe-ae1f-914bc68f3f2d</instanceID><instanceName>Ghh-58.0180911 56.2502042 0.0 30.0-557788</instanceName></meta></ZambiaShort>");
        assertTrue(json != null);
        System.out.println(json);
        assertEquals("{\"ZambiaShort\":{\"id\":\"ZambiaShort\",\"formhub\":{\"uuid\":\"1b801f1cfab9423989b564d8c61b4594\"},\"interviewer\":\"Mikhail\",\"field_gps\":{\"field_center_gps\":\"58.0180911 56.2502042 0.0 30.0\"},\"camp_info\":{\"block_name\":\"Ghjj\",\"vet_camp_name\":\"Gh\",\"agr_camp_name\":\"Gg\",\"village_name\":\"Ggg\"},\"head_name\":\"Ghh\",\"farmer_info\":{\"farmer_name\":\"Ggh\",\"farmer_image\":\"1454054126478.jpg\",\"farmer_sex\":\"male\",\"contact_phone\":\"557788\",\"farmer_birthdate\":\"2016-01-06\"},\"any_activity_2014\":{\"crop_production_activity\":\"yes\",\"livestock_prod_activity\":\"no\",\"farm_fishing_activity\":\"no\"},\"source_livelihood_and_labour\":{\"source_livelihood\":\"on_farm\",\"source_labour\":\"family\"},\"education_level_and_source_of_information\":{\"level_skills\":\"unskilled\",\"information\":\"public_gathering internet\"},\"farmer_fields\":\"1\",\"field_repeat_count\":\"1\",\"field_repeat\":{\"field_info\":\"no\",\"field_image\":\"1454054166790.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1454054179606.jpg\",\"area_cultivated\":{\"area_quantity\":\"236.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2016-01-06\",\"seed_purchase\":\"yes\",\"seed_name\":\"Vvbh\",\"seed_cost\":\"26.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"559.0\",\"fertilizer_cost\":\"86.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"56.0\",\"crop_harvested_unit\":\"kg\"}}},\"start_time\":\"2016-01-29T12:54:21.753+05\",\"end_time\":\"2016-01-29T12:56:52.600+05\",\"survey_day\":\"2016-01-29\",\"deviceid\":\"359904053255378\",\"subscriberid\":\"250012782462148\",\"imei\":\"359904053255378\",\"sim_serial_number\":\"89701012927824621483\",\"meta\":{\"instanceID\":\"uuid:61944850-9648-4fbe-ae1f-914bc68f3f2d\",\"instanceName\":\"Ghh-58.0180911 56.2502042 0.0 30.0-557788\"}}}", json.toString());
    }

    @Test
    public void toJSONObjectReturnsJSON2() throws Exception {
        System.out.println("toJSONObjectReturnsJSON2");
        JSONObject json = XMLUtils.toJSONObject("<?xml version='1.0' ?><ZambiaShort id=\"ZambiaShort\"><formhub><uuid>1b801f1cfab9423989b564d8c61b4594</uuid></formhub><interviewer>Mikhail</interviewer><field_gps><field_center_gps>58.0180602 56.2502223 0.0 37.5</field_center_gps></field_gps><camp_info><block_name>Fhjb</block_name><vet_camp_name>Gjffh</vet_camp_name><agr_camp_name>Cjjvf</agr_camp_name><village_name>Cgjj</village_name></camp_info><head_name>Bill</head_name><farmer_info><farmer_name>Dujj</farmer_name><farmer_image>1453990150566.jpg</farmer_image><farmer_sex>male</farmer_sex><contact_phone>456786777</contact_phone><farmer_birthdate>2015-12-29</farmer_birthdate></farmer_info><any_activity_2014><any_activity_question /><crop_production_activity>yes</crop_production_activity><livestock_prod_activity>no</livestock_prod_activity><farm_fishing_activity>no</farm_fishing_activity></any_activity_2014><source_livelihood_and_labour><source_livelihood>on_farm</source_livelihood><source_labour>family</source_labour></source_livelihood_and_labour><education_level_and_source_of_information><level_skills>unskilled</level_skills><information>public_gathering radio newspaperp_ublication</information></education_level_and_source_of_information><farmer_fields>2</farmer_fields><field_repeat_count>2</field_repeat_count><field_repeat><field_info>no</field_info><field_image>1453990225914.jpg</field_image><crop><crop_name>maize</crop_name><crop_image>1453990238744.jpg</crop_image><area_cultivated><area_cultivated_question /><area_quantity>266.0</area_quantity><area_unit>hectare</area_unit></area_cultivated><water_source_and_main_motive><water_source>rainfed</water_source><main_motive>domestic_consumption</main_motive></water_source_and_main_motive><seed><seed_sown>2016-01-05</seed_sown><seed_purchase>yes</seed_purchase><seed_name>Tyhj</seed_name><seed_cost>266.0</seed_cost></seed><fertilizer><fertilizer_use>yes</fertilizer_use><fertilizer_amount>26.0</fertilizer_amount><fertilizer_cost>155.0</fertilizer_cost></fertilizer><crop_protection><pesticide_use>yes</pesticide_use></crop_protection><crop_harvested><crop_harvested_question /><crop_harvested_quantity>56.0</crop_harvested_quantity><crop_harvested_unit>kg</crop_harvested_unit></crop_harvested></crop><addl_crop><addl_crop_addl_name>maize</addl_crop_addl_name><addl_crop_image>1453990291676.jpg</addl_crop_image><addl_area_cultivated><addl_area_cultivated_question /><addl_area_quantity>56.0</addl_area_quantity><addl_area_unit>hectare</addl_area_unit></addl_area_cultivated><addl_water_source_and_main_motive><addl_water_source>rainfed</addl_water_source><addl_main_motive>domestic_consumption</addl_main_motive></addl_water_source_and_main_motive><addl_seed><addl_seed_sown>2016-01-06</addl_seed_sown><addl_seed_purchase>yes</addl_seed_purchase><addl_seed_name>Ghhh</addl_seed_name><addl_seed_cost>55.0</addl_seed_cost></addl_seed><addl_fertilizer><addl_fertilizer_use>yes</addl_fertilizer_use><addl_fertilizer_amount>56.0</addl_fertilizer_amount><addl_fertilizer_cost>56.0</addl_fertilizer_cost></addl_fertilizer><addl_crop_protection><addl_pesticide_use>yes</addl_pesticide_use></addl_crop_protection><addl_crop_harvested><addl_crop_harvested_question /><addl_crop_harvested_quantity>56.0</addl_crop_harvested_quantity><addl_crop_harvested_unit>kg</addl_crop_harvested_unit></addl_crop_harvested></addl_crop><field_corners><field_corners_image>1453990334010.jpg</field_corners_image><field_corners_gps>58.0180529 56.2502365 0.0 34.5</field_corners_gps></field_corners></field_repeat><field_repeat><field_info>no</field_info><field_image>1453990385882.jpg</field_image><crop><crop_name>maize</crop_name><crop_image>1453990397266.jpg</crop_image><area_cultivated><area_cultivated_question /><area_quantity>26.0</area_quantity><area_unit>hectare</area_unit></area_cultivated><water_source_and_main_motive><water_source>rainfed</water_source><main_motive>domestic_consumption</main_motive></water_source_and_main_motive><seed><seed_sown>2015-12-30</seed_sown><seed_purchase>yes</seed_purchase><seed_name>Fgh</seed_name><seed_cost>56.0</seed_cost></seed><fertilizer><fertilizer_use>yes</fertilizer_use><fertilizer_amount>566.0</fertilizer_amount><fertilizer_cost>56.0</fertilizer_cost></fertilizer><crop_protection><pesticide_use>yes</pesticide_use></crop_protection><crop_harvested><crop_harvested_question /><crop_harvested_quantity>15.0</crop_harvested_quantity><crop_harvested_unit>kg</crop_harvested_unit></crop_harvested></crop><field_corners><field_corners_image>1453990444316.jpg</field_corners_image><field_corners_gps>58.0180517 56.2502504 0.0 37.5</field_corners_gps></field_corners></field_repeat><start_time>2016-01-27T19:52:58.691+05</start_time><end_time>2016-01-28T19:14:39.068+05</end_time><survey_day>2016-01-27</survey_day><deviceid>359904053255378</deviceid><subscriberid>250012782462148</subscriberid><imei>359904053255378</imei><sim_serial_number>89701012927824621483</sim_serial_number><phonenumber /><meta><instanceID>uuid:7387e86e-0bb4-4d68-a1d4-5149e78c3217</instanceID><instanceName>Bill-58.0180602 56.2502223 0.0 37.5-456786777</instanceName></meta></ZambiaShort>");
        assertTrue(json != null);
        System.out.println(json);
        assertEquals("{\"ZambiaShort\":{\"id\":\"ZambiaShort\",\"formhub\":{\"uuid\":\"1b801f1cfab9423989b564d8c61b4594\"},\"interviewer\":\"Mikhail\",\"field_gps\":{\"field_center_gps\":\"58.0180602 56.2502223 0.0 37.5\"},\"camp_info\":{\"block_name\":\"Fhjb\",\"vet_camp_name\":\"Gjffh\",\"agr_camp_name\":\"Cjjvf\",\"village_name\":\"Cgjj\"},\"head_name\":\"Bill\",\"farmer_info\":{\"farmer_name\":\"Dujj\",\"farmer_image\":\"1453990150566.jpg\",\"farmer_sex\":\"male\",\"contact_phone\":\"456786777\",\"farmer_birthdate\":\"2015-12-29\"},\"any_activity_2014\":{\"crop_production_activity\":\"yes\",\"livestock_prod_activity\":\"no\",\"farm_fishing_activity\":\"no\"},\"source_livelihood_and_labour\":{\"source_livelihood\":\"on_farm\",\"source_labour\":\"family\"},\"education_level_and_source_of_information\":{\"level_skills\":\"unskilled\",\"information\":\"public_gathering radio newspaperp_ublication\"},\"farmer_fields\":\"2\",\"field_repeat_count\":\"2\",\"field_repeat\":[{\"field_info\":\"no\",\"field_image\":\"1453990225914.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1453990238744.jpg\",\"area_cultivated\":{\"area_quantity\":\"266.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2016-01-05\",\"seed_purchase\":\"yes\",\"seed_name\":\"Tyhj\",\"seed_cost\":\"266.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"26.0\",\"fertilizer_cost\":\"155.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"56.0\",\"crop_harvested_unit\":\"kg\"}},\"addl_crop\":{\"addl_crop_addl_name\":\"maize\",\"addl_crop_image\":\"1453990291676.jpg\",\"addl_area_cultivated\":{\"addl_area_quantity\":\"56.0\",\"addl_area_unit\":\"hectare\"},\"addl_water_source_and_main_motive\":{\"addl_water_source\":\"rainfed\",\"addl_main_motive\":\"domestic_consumption\"},\"addl_seed\":{\"addl_seed_sown\":\"2016-01-06\",\"addl_seed_purchase\":\"yes\",\"addl_seed_name\":\"Ghhh\",\"addl_seed_cost\":\"55.0\"},\"addl_fertilizer\":{\"addl_fertilizer_use\":\"yes\",\"addl_fertilizer_amount\":\"56.0\",\"addl_fertilizer_cost\":\"56.0\"},\"addl_crop_protection\":{\"addl_pesticide_use\":\"yes\"},\"addl_crop_harvested\":{\"addl_crop_harvested_quantity\":\"56.0\",\"addl_crop_harvested_unit\":\"kg\"}},\"field_corners\":{\"field_corners_image\":\"1453990334010.jpg\",\"field_corners_gps\":\"58.0180529 56.2502365 0.0 34.5\"}},{\"field_info\":\"no\",\"field_image\":\"1453990385882.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1453990397266.jpg\",\"area_cultivated\":{\"area_quantity\":\"26.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2015-12-30\",\"seed_purchase\":\"yes\",\"seed_name\":\"Fgh\",\"seed_cost\":\"56.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"566.0\",\"fertilizer_cost\":\"56.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"15.0\",\"crop_harvested_unit\":\"kg\"}},\"field_corners\":{\"field_corners_image\":\"1453990444316.jpg\",\"field_corners_gps\":\"58.0180517 56.2502504 0.0 37.5\"}}],\"start_time\":\"2016-01-27T19:52:58.691+05\",\"end_time\":\"2016-01-28T19:14:39.068+05\",\"survey_day\":\"2016-01-27\",\"deviceid\":\"359904053255378\",\"subscriberid\":\"250012782462148\",\"imei\":\"359904053255378\",\"sim_serial_number\":\"89701012927824621483\",\"meta\":{\"instanceID\":\"uuid:7387e86e-0bb4-4d68-a1d4-5149e78c3217\",\"instanceName\":\"Bill-58.0180602 56.2502223 0.0 37.5-456786777\"}}}", json.toString());
    }

    @Test
    public void toJSONObjectReturnsJSON3() throws Exception {
        System.out.println("toJSONObjectReturnsJSON3");
        JSONObject json = XMLUtils.toJSONObject("<?xml version='1.0' ?><ZambiaShort id=\"ZambiaShort\"><formhub><uuid>1b801f1cfab9423989b564d8c61b4594</uuid></formhub><interviewer>Mikhail</interviewer><field_gps><field_center_gps>58.0180911 56.2502042 0.0 30.0</field_center_gps></field_gps><camp_info><block_name>Ghjj</block_name><vet_camp_name>Gh</vet_camp_name><agr_camp_name>Gg</agr_camp_name><village_name>Ggg</village_name></camp_info><head_name>Ghh</head_name><farmer_info><farmer_name>Ggh</farmer_name><farmer_image>1454054126478.jpg</farmer_image><farmer_sex>male</farmer_sex><contact_phone>557788</contact_phone><farmer_birthdate>2016-01-06</farmer_birthdate></farmer_info><any_activity_2014><any_activity_question /><crop_production_activity>yes</crop_production_activity><livestock_prod_activity>no</livestock_prod_activity><farm_fishing_activity>no</farm_fishing_activity></any_activity_2014><source_livelihood_and_labour><source_livelihood>on_farm</source_livelihood><source_labour>family</source_labour></source_livelihood_and_labour><education_level_and_source_of_information><level_skills>unskilled</level_skills><information>public_gathering internet</information></education_level_and_source_of_information><farmer_fields>1</farmer_fields><field_repeat_count>1</field_repeat_count><field_repeat><field_info>no</field_info><field_image>1454054166790.jpg</field_image><crop><crop_name>maize</crop_name><crop_image>1454054179606.jpg</crop_image><area_cultivated><area_cultivated_question /><area_quantity>236.0</area_quantity><area_unit>hectare</area_unit></area_cultivated><water_source_and_main_motive><water_source>rainfed</water_source><main_motive>domestic_consumption</main_motive></water_source_and_main_motive><seed><seed_sown>2016-01-06</seed_sown><seed_purchase>yes</seed_purchase><seed_name>Vvbh</seed_name><seed_cost>26.0</seed_cost></seed><fertilizer><fertilizer_use>yes</fertilizer_use><fertilizer_amount>559.0</fertilizer_amount><fertilizer_cost>86.0</fertilizer_cost></fertilizer><crop_protection><pesticide_use>yes</pesticide_use></crop_protection><crop_harvested><crop_harvested_question /><crop_harvested_quantity>56.0</crop_harvested_quantity><crop_harvested_unit>kg</crop_harvested_unit></crop_harvested></crop></field_repeat><start_time>2016-01-29T12:54:21.753+05</start_time><end_time>2016-01-29T12:56:52.600+05</end_time><survey_day>2016-01-29</survey_day><deviceid>359904053255378</deviceid><subscriberid>250012782462148</subscriberid><imei>359904053255378</imei><sim_serial_number>89701012927824621483</sim_serial_number><phonenumber /><meta><instanceID>uuid:61944850-9648-4fbe-ae1f-914bc68f3f2d</instanceID><instanceName>Ghh-58.0180911 56.2502042 0.0 30.0-557788</instanceName></meta></ZambiaShort>", new String[] {"field_repeat", "addl_crop", "field_corners"});
        assertTrue(json != null);
        System.out.println(json);
        assertEquals("{\"ZambiaShort\":{\"id\":\"ZambiaShort\",\"formhub\":{\"uuid\":\"1b801f1cfab9423989b564d8c61b4594\"},\"interviewer\":\"Mikhail\",\"field_gps\":{\"field_center_gps\":\"58.0180911 56.2502042 0.0 30.0\"},\"camp_info\":{\"block_name\":\"Ghjj\",\"vet_camp_name\":\"Gh\",\"agr_camp_name\":\"Gg\",\"village_name\":\"Ggg\"},\"head_name\":\"Ghh\",\"farmer_info\":{\"farmer_name\":\"Ggh\",\"farmer_image\":\"1454054126478.jpg\",\"farmer_sex\":\"male\",\"contact_phone\":\"557788\",\"farmer_birthdate\":\"2016-01-06\"},\"any_activity_2014\":{\"crop_production_activity\":\"yes\",\"livestock_prod_activity\":\"no\",\"farm_fishing_activity\":\"no\"},\"source_livelihood_and_labour\":{\"source_livelihood\":\"on_farm\",\"source_labour\":\"family\"},\"education_level_and_source_of_information\":{\"level_skills\":\"unskilled\",\"information\":\"public_gathering internet\"},\"farmer_fields\":\"1\",\"field_repeat_count\":\"1\",\"field_repeat\":[{\"field_info\":\"no\",\"field_image\":\"1454054166790.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1454054179606.jpg\",\"area_cultivated\":{\"area_quantity\":\"236.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2016-01-06\",\"seed_purchase\":\"yes\",\"seed_name\":\"Vvbh\",\"seed_cost\":\"26.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"559.0\",\"fertilizer_cost\":\"86.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"56.0\",\"crop_harvested_unit\":\"kg\"}}}],\"start_time\":\"2016-01-29T12:54:21.753+05\",\"end_time\":\"2016-01-29T12:56:52.600+05\",\"survey_day\":\"2016-01-29\",\"deviceid\":\"359904053255378\",\"subscriberid\":\"250012782462148\",\"imei\":\"359904053255378\",\"sim_serial_number\":\"89701012927824621483\",\"meta\":{\"instanceID\":\"uuid:61944850-9648-4fbe-ae1f-914bc68f3f2d\",\"instanceName\":\"Ghh-58.0180911 56.2502042 0.0 30.0-557788\"}}}", json.toString());
    }

    @Test
    public void toJSONObjectReturnsJSON4() throws Exception {
        System.out.println("toJSONObjectReturnsJSON4");
        JSONObject json = XMLUtils.toJSONObject("<?xml version='1.0' ?><ZambiaShort id=\"ZambiaShort\"><formhub><uuid>1b801f1cfab9423989b564d8c61b4594</uuid></formhub><interviewer>Mikhail</interviewer><field_gps><field_center_gps>58.0180602 56.2502223 0.0 37.5</field_center_gps></field_gps><camp_info><block_name>Fhjb</block_name><vet_camp_name>Gjffh</vet_camp_name><agr_camp_name>Cjjvf</agr_camp_name><village_name>Cgjj</village_name></camp_info><head_name>Bill</head_name><farmer_info><farmer_name>Dujj</farmer_name><farmer_image>1453990150566.jpg</farmer_image><farmer_sex>male</farmer_sex><contact_phone>456786777</contact_phone><farmer_birthdate>2015-12-29</farmer_birthdate></farmer_info><any_activity_2014><any_activity_question /><crop_production_activity>yes</crop_production_activity><livestock_prod_activity>no</livestock_prod_activity><farm_fishing_activity>no</farm_fishing_activity></any_activity_2014><source_livelihood_and_labour><source_livelihood>on_farm</source_livelihood><source_labour>family</source_labour></source_livelihood_and_labour><education_level_and_source_of_information><level_skills>unskilled</level_skills><information>public_gathering radio newspaperp_ublication</information></education_level_and_source_of_information><farmer_fields>2</farmer_fields><field_repeat_count>2</field_repeat_count><field_repeat><field_info>no</field_info><field_image>1453990225914.jpg</field_image><crop><crop_name>maize</crop_name><crop_image>1453990238744.jpg</crop_image><area_cultivated><area_cultivated_question /><area_quantity>266.0</area_quantity><area_unit>hectare</area_unit></area_cultivated><water_source_and_main_motive><water_source>rainfed</water_source><main_motive>domestic_consumption</main_motive></water_source_and_main_motive><seed><seed_sown>2016-01-05</seed_sown><seed_purchase>yes</seed_purchase><seed_name>Tyhj</seed_name><seed_cost>266.0</seed_cost></seed><fertilizer><fertilizer_use>yes</fertilizer_use><fertilizer_amount>26.0</fertilizer_amount><fertilizer_cost>155.0</fertilizer_cost></fertilizer><crop_protection><pesticide_use>yes</pesticide_use></crop_protection><crop_harvested><crop_harvested_question /><crop_harvested_quantity>56.0</crop_harvested_quantity><crop_harvested_unit>kg</crop_harvested_unit></crop_harvested></crop><addl_crop><addl_crop_addl_name>maize</addl_crop_addl_name><addl_crop_image>1453990291676.jpg</addl_crop_image><addl_area_cultivated><addl_area_cultivated_question /><addl_area_quantity>56.0</addl_area_quantity><addl_area_unit>hectare</addl_area_unit></addl_area_cultivated><addl_water_source_and_main_motive><addl_water_source>rainfed</addl_water_source><addl_main_motive>domestic_consumption</addl_main_motive></addl_water_source_and_main_motive><addl_seed><addl_seed_sown>2016-01-06</addl_seed_sown><addl_seed_purchase>yes</addl_seed_purchase><addl_seed_name>Ghhh</addl_seed_name><addl_seed_cost>55.0</addl_seed_cost></addl_seed><addl_fertilizer><addl_fertilizer_use>yes</addl_fertilizer_use><addl_fertilizer_amount>56.0</addl_fertilizer_amount><addl_fertilizer_cost>56.0</addl_fertilizer_cost></addl_fertilizer><addl_crop_protection><addl_pesticide_use>yes</addl_pesticide_use></addl_crop_protection><addl_crop_harvested><addl_crop_harvested_question /><addl_crop_harvested_quantity>56.0</addl_crop_harvested_quantity><addl_crop_harvested_unit>kg</addl_crop_harvested_unit></addl_crop_harvested></addl_crop><field_corners><field_corners_image>1453990334010.jpg</field_corners_image><field_corners_gps>58.0180529 56.2502365 0.0 34.5</field_corners_gps></field_corners></field_repeat><field_repeat><field_info>no</field_info><field_image>1453990385882.jpg</field_image><crop><crop_name>maize</crop_name><crop_image>1453990397266.jpg</crop_image><area_cultivated><area_cultivated_question /><area_quantity>26.0</area_quantity><area_unit>hectare</area_unit></area_cultivated><water_source_and_main_motive><water_source>rainfed</water_source><main_motive>domestic_consumption</main_motive></water_source_and_main_motive><seed><seed_sown>2015-12-30</seed_sown><seed_purchase>yes</seed_purchase><seed_name>Fgh</seed_name><seed_cost>56.0</seed_cost></seed><fertilizer><fertilizer_use>yes</fertilizer_use><fertilizer_amount>566.0</fertilizer_amount><fertilizer_cost>56.0</fertilizer_cost></fertilizer><crop_protection><pesticide_use>yes</pesticide_use></crop_protection><crop_harvested><crop_harvested_question /><crop_harvested_quantity>15.0</crop_harvested_quantity><crop_harvested_unit>kg</crop_harvested_unit></crop_harvested></crop><field_corners><field_corners_image>1453990444316.jpg</field_corners_image><field_corners_gps>58.0180517 56.2502504 0.0 37.5</field_corners_gps></field_corners></field_repeat><start_time>2016-01-27T19:52:58.691+05</start_time><end_time>2016-01-28T19:14:39.068+05</end_time><survey_day>2016-01-27</survey_day><deviceid>359904053255378</deviceid><subscriberid>250012782462148</subscriberid><imei>359904053255378</imei><sim_serial_number>89701012927824621483</sim_serial_number><phonenumber /><meta><instanceID>uuid:7387e86e-0bb4-4d68-a1d4-5149e78c3217</instanceID><instanceName>Bill-58.0180602 56.2502223 0.0 37.5-456786777</instanceName></meta></ZambiaShort>", new String[] {"field_repeat", "addl_crop", "field_corners"});
        assertTrue(json != null);
        System.out.println(json);
        assertEquals("{\"ZambiaShort\":{\"id\":\"ZambiaShort\",\"formhub\":{\"uuid\":\"1b801f1cfab9423989b564d8c61b4594\"},\"interviewer\":\"Mikhail\",\"field_gps\":{\"field_center_gps\":\"58.0180602 56.2502223 0.0 37.5\"},\"camp_info\":{\"block_name\":\"Fhjb\",\"vet_camp_name\":\"Gjffh\",\"agr_camp_name\":\"Cjjvf\",\"village_name\":\"Cgjj\"},\"head_name\":\"Bill\",\"farmer_info\":{\"farmer_name\":\"Dujj\",\"farmer_image\":\"1453990150566.jpg\",\"farmer_sex\":\"male\",\"contact_phone\":\"456786777\",\"farmer_birthdate\":\"2015-12-29\"},\"any_activity_2014\":{\"crop_production_activity\":\"yes\",\"livestock_prod_activity\":\"no\",\"farm_fishing_activity\":\"no\"},\"source_livelihood_and_labour\":{\"source_livelihood\":\"on_farm\",\"source_labour\":\"family\"},\"education_level_and_source_of_information\":{\"level_skills\":\"unskilled\",\"information\":\"public_gathering radio newspaperp_ublication\"},\"farmer_fields\":\"2\",\"field_repeat_count\":\"2\",\"field_repeat\":[{\"field_info\":\"no\",\"field_image\":\"1453990225914.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1453990238744.jpg\",\"area_cultivated\":{\"area_quantity\":\"266.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2016-01-05\",\"seed_purchase\":\"yes\",\"seed_name\":\"Tyhj\",\"seed_cost\":\"266.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"26.0\",\"fertilizer_cost\":\"155.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"56.0\",\"crop_harvested_unit\":\"kg\"}},\"addl_crop\":[{\"addl_crop_addl_name\":\"maize\",\"addl_crop_image\":\"1453990291676.jpg\",\"addl_area_cultivated\":{\"addl_area_quantity\":\"56.0\",\"addl_area_unit\":\"hectare\"},\"addl_water_source_and_main_motive\":{\"addl_water_source\":\"rainfed\",\"addl_main_motive\":\"domestic_consumption\"},\"addl_seed\":{\"addl_seed_sown\":\"2016-01-06\",\"addl_seed_purchase\":\"yes\",\"addl_seed_name\":\"Ghhh\",\"addl_seed_cost\":\"55.0\"},\"addl_fertilizer\":{\"addl_fertilizer_use\":\"yes\",\"addl_fertilizer_amount\":\"56.0\",\"addl_fertilizer_cost\":\"56.0\"},\"addl_crop_protection\":{\"addl_pesticide_use\":\"yes\"},\"addl_crop_harvested\":{\"addl_crop_harvested_quantity\":\"56.0\",\"addl_crop_harvested_unit\":\"kg\"}}],\"field_corners\":[{\"field_corners_image\":\"1453990334010.jpg\",\"field_corners_gps\":\"58.0180529 56.2502365 0.0 34.5\"}]},{\"field_info\":\"no\",\"field_image\":\"1453990385882.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1453990397266.jpg\",\"area_cultivated\":{\"area_quantity\":\"26.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2015-12-30\",\"seed_purchase\":\"yes\",\"seed_name\":\"Fgh\",\"seed_cost\":\"56.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"566.0\",\"fertilizer_cost\":\"56.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"15.0\",\"crop_harvested_unit\":\"kg\"}},\"field_corners\":[{\"field_corners_image\":\"1453990444316.jpg\",\"field_corners_gps\":\"58.0180517 56.2502504 0.0 37.5\"}]}],\"start_time\":\"2016-01-27T19:52:58.691+05\",\"end_time\":\"2016-01-28T19:14:39.068+05\",\"survey_day\":\"2016-01-27\",\"deviceid\":\"359904053255378\",\"subscriberid\":\"250012782462148\",\"imei\":\"359904053255378\",\"sim_serial_number\":\"89701012927824621483\",\"meta\":{\"instanceID\":\"uuid:7387e86e-0bb4-4d68-a1d4-5149e78c3217\",\"instanceName\":\"Bill-58.0180602 56.2502223 0.0 37.5-456786777\"}}}", json.toString());
    }

    @Test
    public void stringToJSONObjectAndBack() throws Exception {
        System.out.println("stringToJSONObjectAndBack");
        String json = "{\"ZambiaShort\":{\"id\":\"ZambiaShort\",\"formhub\":{\"uuid\":\"1b801f1cfab9423989b564d8c61b4594\"},\"interviewer\":\"Mikhail\",\"field_gps\":{\"field_center_gps\":\"58.0180602 56.2502223 0.0 37.5\"},\"camp_info\":{\"block_name\":\"Fhjb\",\"vet_camp_name\":\"Gjffh\",\"agr_camp_name\":\"Cjjvf\",\"village_name\":\"Cgjj\"},\"head_name\":\"Bill\",\"farmer_info\":{\"farmer_name\":\"Dujj\",\"farmer_image\":\"1453990150566.jpg\",\"farmer_sex\":\"male\",\"contact_phone\":\"456786777\",\"farmer_birthdate\":\"2015-12-29\"},\"any_activity_2014\":{\"crop_production_activity\":\"yes\",\"livestock_prod_activity\":\"no\",\"farm_fishing_activity\":\"no\"},\"source_livelihood_and_labour\":{\"source_livelihood\":\"on_farm\",\"source_labour\":\"family\"},\"education_level_and_source_of_information\":{\"level_skills\":\"unskilled\",\"information\":\"public_gathering radio newspaperp_ublication\"},\"farmer_fields\":\"2\",\"field_repeat_count\":\"2\",\"field_repeat\":[{\"field_info\":\"no\",\"field_image\":\"1453990225914.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1453990238744.jpg\",\"area_cultivated\":{\"area_quantity\":\"266.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2016-01-05\",\"seed_purchase\":\"yes\",\"seed_name\":\"Tyhj\",\"seed_cost\":\"266.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"26.0\",\"fertilizer_cost\":\"155.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"56.0\",\"crop_harvested_unit\":\"kg\"}},\"addl_crop\":{\"addl_crop_addl_name\":\"maize\",\"addl_crop_image\":\"1453990291676.jpg\",\"addl_area_cultivated\":{\"addl_area_quantity\":\"56.0\",\"addl_area_unit\":\"hectare\"},\"addl_water_source_and_main_motive\":{\"addl_water_source\":\"rainfed\",\"addl_main_motive\":\"domestic_consumption\"},\"addl_seed\":{\"addl_seed_sown\":\"2016-01-06\",\"addl_seed_purchase\":\"yes\",\"addl_seed_name\":\"Ghhh\",\"addl_seed_cost\":\"55.0\"},\"addl_fertilizer\":{\"addl_fertilizer_use\":\"yes\",\"addl_fertilizer_amount\":\"56.0\",\"addl_fertilizer_cost\":\"56.0\"},\"addl_crop_protection\":{\"addl_pesticide_use\":\"yes\"},\"addl_crop_harvested\":{\"addl_crop_harvested_quantity\":\"56.0\",\"addl_crop_harvested_unit\":\"kg\"}},\"field_corners\":{\"field_corners_image\":\"1453990334010.jpg\",\"field_corners_gps\":\"58.0180529 56.2502365 0.0 34.5\"}},{\"field_info\":\"no\",\"field_image\":\"1453990385882.jpg\",\"crop\":{\"crop_name\":\"maize\",\"crop_image\":\"1453990397266.jpg\",\"area_cultivated\":{\"area_quantity\":\"26.0\",\"area_unit\":\"hectare\"},\"water_source_and_main_motive\":{\"water_source\":\"rainfed\",\"main_motive\":\"domestic_consumption\"},\"seed\":{\"seed_sown\":\"2015-12-30\",\"seed_purchase\":\"yes\",\"seed_name\":\"Fgh\",\"seed_cost\":\"56.0\"},\"fertilizer\":{\"fertilizer_use\":\"yes\",\"fertilizer_amount\":\"566.0\",\"fertilizer_cost\":\"56.0\"},\"crop_protection\":{\"pesticide_use\":\"yes\"},\"crop_harvested\":{\"crop_harvested_quantity\":\"15.0\",\"crop_harvested_unit\":\"kg\"}},\"field_corners\":{\"field_corners_image\":\"1453990444316.jpg\",\"field_corners_gps\":\"58.0180517 56.2502504 0.0 37.5\"}}],\"start_time\":\"2016-01-27T19:52:58.691+05\",\"end_time\":\"2016-01-28T19:14:39.068+05\",\"survey_day\":\"2016-01-27\",\"deviceid\":\"359904053255378\",\"subscriberid\":\"250012782462148\",\"imei\":\"359904053255378\",\"sim_serial_number\":\"89701012927824621483\",\"meta\":{\"instanceID\":\"uuid:7387e86e-0bb4-4d68-a1d4-5149e78c3217\",\"instanceName\":\"Bill-58.0180602 56.2502223 0.0 37.5-456786777\"}}}";
        String newJson = new JSONObject(json).toString();
        System.out.println(json);
        System.out.println(newJson);
        assertEquals(json, newJson);
    }
}
